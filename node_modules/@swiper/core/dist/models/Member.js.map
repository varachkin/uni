{"version":3,"sources":["../../src/models/Member.js"],"names":["settingsDefaults","toggleOnSwipe","Member","Person","constructor","options","id","setting","key","defaultValue","val","x","membershipId","startsWith"],"mappings":";;;;;;;;;;;;;;;;;;;AACA;;AAEA,MAAMA,gBAAgB,GAAG;AACvBC,EAAAA,aAAa,EAAK;AADK,CAAzB;;AAIO,MAAMC,MAAN,SAAqBC,cAArB,CAA4B;AAYjCC,EAAAA,WAAW,CAAEC,OAAO,GAAC,EAAV,EAAe;AACxB,QAAK,wBAAYA,OAAZ,CAAL,EAA6BA,OAAO,GAAG;AAAEC,MAAAA,EAAE,EAAGD;AAAP,KAAV;AAC7B,UAAOA,OAAP;AACD;;AAEDE,EAAAA,OAAO,CAAEC,GAAF,EAAOC,YAAP,EAAsB;AAC3B,QAAK,mBAAO,IAAP,EAAa,CAAE,UAAF,EAAcD,GAAd,CAAb,CAAL,EAA0C;AACxC,YAAME,GAAG,GAAG,mBAAO,IAAP,EAAa,CAAE,UAAF,EAAcF,GAAd,CAAb,CAAZ;AACA,UAAK,CAAE,qBAASE,GAAT,CAAP,EAAwB,OAAOA,GAAP;AACzB;;AACD,QAAK,CAAE,qBAASD,YAAT,CAAP,EAAiC,OAAOA,YAAP;AACjC,WAAOT,gBAAgB,CAAEQ,GAAF,CAAvB;AACD;;AAxBgC;;;8BAAtBN,M,gBAES,CAClBS,CAAC,IAAI;AACH,MAAK,CAAEA,CAAC,CAACL,EAAT,EAAc,OAAO,iBAAP;AACd,MAAK,CAAEK,CAAC,CAACC,YAAT,EAAwB,OAAO,0BAAP;;AACxB,MAAK,CAAED,CAAC,CAACL,EAAF,CAAKO,UAAL,CAAiBF,CAAC,CAACC,YAAF,GAAiB,GAAlC,CAAP,EAAiD;AAC/C,WAAO,uCAAP;AACD;AACF,CAPiB,C","sourcesContent":["import _ from 'lodash';\nimport { Person } from './Person';\n\nconst settingsDefaults = {\n  toggleOnSwipe   : true,\n};\n\nexport class Member extends Person {\n\n  static validators = [\n    x => {\n      if ( ! x.id ) return 'must have an id';\n      if ( ! x.membershipId ) return 'must have a membershipId';\n      if ( ! x.id.startsWith( x.membershipId + '.' ) ) {\n        return 'id must be prefixed with membershipId';\n      }\n    },\n  ];\n\n  constructor( options={} ) {\n    if ( _.isString( options ) ) options = { id : options };\n    super( options );\n  }\n\n  setting( key, defaultValue ) {\n    if ( _.has( this, [ 'settings', key ] ) ) {\n      const val = _.get( this, [ 'settings', key ] );\n      if ( ! _.isNil( val ) ) return val;\n    }\n    if ( ! _.isNil( defaultValue ) ) return defaultValue;\n    return settingsDefaults[ key ];\n  }\n\n}\n"],"file":"Member.js"}